{"ast":null,"code":"var _jsxFileName = \"/var/www/html/khu/ReactApplications/isobar-course/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, forwardRef, useImperativeHandle, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Modal } from \"react-responsive-modal\";\nimport CourseContext from \"./CourseContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = /*#__PURE__*/forwardRef(_c = _s((props, ref) => {\n  _s();\n\n  const {\n    isAuthenticated,\n    setAuthenticated\n  } = useContext(CourseContext);\n  useImperativeHandle(ref, () => ({\n    showAlert() {\n      setOpen(true); // alert(\"Child Function Called\")\n    }\n\n  }));\n  const [open, setOpen] = useState(false); //const onOpenModal = () => setOpen(true);\n\n  const onCloseModal = () => setOpen(false);\n\n  let history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorEmail, setErrorEmail] = useState(\"\");\n  const [errorPwd, setErrorPwd] = useState(\"\"); //   const [userlogin, setuserlogin] = useState(false);\n\n  const handleEmail = e => {\n    setEmail(e.target.value);\n  };\n\n  const handlePassword = e => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n\n    if (email === \"\") {\n      setErrorEmail(\"Required\");\n    } else if (!pattern.test(email)) {\n      setErrorEmail(\"Please enter Valid email Address.\");\n    } else {\n      setErrorEmail(\"\");\n    }\n\n    if (password === \"\") {\n      setErrorPwd(\"Required\");\n    } else {\n      setErrorPwd(\"\");\n    }\n\n    if (email !== \"\" && password !== \"\") {\n      let userdata = {\n        email: email,\n        password: password\n      };\n      console.log(userdata);\n      localStorage.setItem(\"user-data\", JSON.stringify(userdata));\n      setAuthenticated(true);\n      setEmail('');\n      setPassword(''); //history.push(\"/\");\n    }\n  };\n\n  if (isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      onClose: onCloseModal,\n      center: true,\n      classNames: {\n        overlay: \"customOverlay\",\n        modal: \"customModal\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"You have successfully loggedin.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: open,\n    onClose: onCloseModal,\n    center: true,\n    classNames: {\n      overlay: \"customOverlay\",\n      modal: \"customModal\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"User Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email(*):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"email\",\n            onChange: handleEmail,\n            value: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), errorEmail ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error\",\n            children: [\" \", errorEmail]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 27\n          }, this) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password(*):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"password\",\n            onChange: handlePassword,\n            value: password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), errorPwd ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error\",\n            children: [\" \", errorPwd]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}, \"bimwnS2ZI7zTICHY6NjtK6ytAqU=\", false, function () {\n  return [useImperativeHandle, useHistory];\n}));\n_c2 = Login;\nexport default Login;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Login$forwardRef\");\n$RefreshReg$(_c2, \"Login\");","map":{"version":3,"sources":["/var/www/html/khu/ReactApplications/isobar-course/src/components/Login.js"],"names":["React","useState","forwardRef","useImperativeHandle","useContext","useHistory","Modal","CourseContext","Login","props","ref","isAuthenticated","setAuthenticated","showAlert","setOpen","open","onCloseModal","history","email","setEmail","password","setPassword","errorEmail","setErrorEmail","errorPwd","setErrorPwd","handleEmail","e","target","value","handlePassword","handleSubmit","preventDefault","pattern","RegExp","test","userdata","console","log","localStorage","setItem","JSON","stringify","overlay","modal"],"mappings":"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","sourcesContent":["import React, { useState,  forwardRef, useImperativeHandle, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Modal } from \"react-responsive-modal\";\nimport CourseContext from \"./CourseContext\";\nconst Login = forwardRef((props, ref) => {\n    const {isAuthenticated, setAuthenticated} =useContext(CourseContext);\n    useImperativeHandle(\n        ref,\n        () => ({\n            showAlert() {\n                setOpen(true);\n               // alert(\"Child Function Called\")\n            }\n        }),\n    )\n\n  const [open, setOpen] = useState(false);\n  //const onOpenModal = () => setOpen(true);\n  const onCloseModal = () => setOpen(false);\n  let history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorEmail, setErrorEmail] = useState(\"\");\n  const [errorPwd, setErrorPwd] = useState(\"\");\n//   const [userlogin, setuserlogin] = useState(false);\n\n  const handleEmail = (e) => {\n    setEmail(e.target.value);\n  };\n  const handlePassword = (e) => {\n    setPassword(e.target.value);\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const pattern = new RegExp(\n      /^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i\n    );\n    if (email === \"\") {\n      setErrorEmail(\"Required\");\n    } else if (!pattern.test(email)) {\n      setErrorEmail(\"Please enter Valid email Address.\");\n    } else {\n      setErrorEmail(\"\");\n    }\n    if (password === \"\") {\n      setErrorPwd(\"Required\");\n    } else {\n      setErrorPwd(\"\");\n    }\n\n    if (email !== \"\" && password !== \"\") {\n      let userdata = { email: email, password: password };\n      console.log(userdata);\n      localStorage.setItem(\"user-data\", JSON.stringify(userdata));\n      setAuthenticated(true);\n      setEmail('');\n      setPassword('');\n      //history.push(\"/\");\n    }\n  };\n  if (isAuthenticated) {\n    return (<Modal\n        open={open}\n        onClose={onCloseModal}\n        center\n        classNames={{\n          overlay: \"customOverlay\",\n          modal: \"customModal\",\n        }}\n      ><div>You have successfully loggedin.</div></Modal>);\n  }\n  return (\n    <Modal\n      open={open}\n      onClose={onCloseModal}\n      center\n      classNames={{\n        overlay: \"customOverlay\",\n        modal: \"customModal\",\n      }}\n    >\n      <div>\n        <h2>User Login</h2>\n        <form onSubmit={handleSubmit}>\n          <div>\n            <label>Email(*):</label>\n            <input\n              type=\"text\"\n              name=\"email\"\n              onChange={handleEmail}\n              value={email}\n            />\n            {errorEmail ? <div className=\"error\"> {errorEmail}</div> : \"\"}\n          </div>\n          <div>\n            <label>Password(*):</label>\n            <input\n              type=\"text\"\n              name=\"password\"\n              onChange={handlePassword}\n              value={password}\n            />\n            {errorPwd ? <div className=\"error\"> {errorPwd}</div> : \"\"}\n          </div>\n          <div>\n            <button>Submit</button>\n          </div>\n        </form>\n      </div>\n    </Modal>\n  );\n});\nexport default Login;"]},"metadata":{},"sourceType":"module"}